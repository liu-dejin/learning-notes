import urllib.request

url = 'https://www.ip138.com/'

headrers = {
	# 'Accept': 'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01Accept-Encoding: gzip, deflate,Accept-Language: zh-CN,zh;q=0.9',
	'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.122 Safari/537.36',
	# 'Cookie': 'BIDUPSID=DA4B810979D035BD88B536BABB6D845E; PSTM=1695220769; BD_UPN=12314753; BDUSS=zkzb0ZtV1VWTmdFVUFHVWlYTE5Qd2FkV0owRm1hNGthLVFydExlLUxub1UwelJsRVFBQUFBJCQAAAAAAQAAAAEAAADuqtVIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABRGDWUURg1ld; BDUSS_BFESS=zkzb0ZtV1VWTmdFVUFHVWlYTE5Qd2FkV0owRm1hNGthLVFydExlLUxub1UwelJsRVFBQUFBJCQAAAAAAQAAAAEAAADuqtVIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABRGDWUURg1ld; BAIDUID=4D9C293F2EF0BE7AE1A9B324CA8D8927:SL=0:NR=10:FG=1; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; BAIDUID_BFESS=4D9C293F2EF0BE7AE1A9B324CA8D8927:SL=0:NR=10:FG=1; ab_sr=1.0.1_NjkxN2YwOGQ3NDU3NjAxMDRiODgyODgyN2E4OGRiNjQ4NGQyNTY1YTVmNzc2Njk4NWYyODA0Mjk0MGYxNDJiNjk2NTc5NDNiMjg5MGVjZWUzM2MzYmM3NmVkYTI2OWRjMTkxMjdlOWIzMjUyOWUyMjVlNzk2Zjg5ZTIyZGU0OTcwNGQ5Nzc3ZTY3ODEwMTk5MDM2YzI2NjQwNjhmYTZiNQ==; H_WISE_SIDS=213361_214792_110085_244720_261713_236312_265881_266356_265985_268592_266187_269231_269904_271173_270102_271883_234295_234207_272278_263618_260335_273165_273141_273247_273326_273388_273786_271112_275098_275212_272318_270538_275003_275986_275939_276203_276196_276311_275171_276419_276572_276586_276965_253022_277078_268758_277238_276828_277356_277373_277237_251972_274784_271254_273982_277641_277620_277636_275188_275259_277783_275733_276925_276665_277887_275209_277952_278015_277554_277997_259642_278058_278165_278041_278249_278391_278414_278269_278278_278451_278486_278533_278575_278621_278566_278583_274576_278772_278514_276121_278839_277541_278388_256739_278951_278922_279020_279039_277523_279134_277759_278365_279026_279327_279358_276574_279366_279385; MSA_WH=1920_1080; BAIDULOC=12119011.957359_4036881.8883269_150_233_1697153879117; BAIDULOC_BFESS=12119011.957359_4036881.8883269_150_233_1697153879117; baikeVisitId=c898424b-dcc2-4bc4-b198-ed8ad66b8ddf; BD_CK_SAM=1; PSINO=3; delPer=0; H_PS_PSSID=39312_39363_39396_39418_39412_39481_39233_39467_26350_39430; BA_HECTOR=ah2g2g040kaha10h0h85a40f1iih1jc1o; ZFY=1SWJj2GK:Ae8hJDskaBmdbh75MP:ALGfP6SKe:BpSuSG90:C; sug=3; sugstore=0; ORIGIN=2; bdime=0; H_PS_645EC=6cbe2oV7%2FvjCvMwBMmsIyIDibtl0Y6BXtXGiFAkxT%2Fy7J7CL8G8MH%2F9GXXE; BDSVRTM=0; COOKIE_SESSION=460_0_5_7_9_4_1_0_4_2_0_0_1437_0_35_0_1697154872_0_1697154837%7C9%23668726_3_1697086175%7C2'
}

request = urllib.request.Request(url=url, headers=headrers)

# response = urllib.request.urlopen(request)

proxies = {
	'http': "221.226.75.86 :55443"
}

handler = urllib.request.ProxyHandler(proxies=proxies)

opener = urllib.request.build_opener(handler)

response = opener.open(request)

content = response.read().decode('utf-8')

with open('ip.html', 'w', encoding='utf-8') as fp:
	fp.write(content)
